!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";function o(e){return parseFloat(e).toFixed(3)}async function r(e,t){console.log(`Inside the localserverpost function ${e} is ${typeof e}`);let n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{let e=await n.json();console.log(""+JSON.stringify(e))}catch(e){console.log(e)}}async function l(){let e=document.getElementById("city").value;let t=`http://api.geonames.org/searchJSON?name=${e}&maxRows=1&type=json&username=mattyloco`;const n=await fetch(t);try{let t=function(e){let t=o(e.geonames[0].lng),n=o(e.geonames[0].lat),r={city:e.geonames[0].name,longitude:t,latitude:n};for(let[e,t]of Object.entries(r))console.log(`${e}: ${t}`);return r}(await n.json());return console.log(`${e} coordinates: ${JSON.stringify(t)}`),r("http://localhost:3000/addcity",t),t}catch(e){console.log("Retrieval Error:",e)}}async function a(e="",t={}){const n=await fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});try{const e=await n.json();console.log("Successful Post: "+JSON.stringify(e))}catch(e){console.error("Post Error:",e)}}async function c(e){let t=await fetch(e);try{let e=await t.json();for(let[t,n]of Object.entries(e))console.log(`${t}: ${n}`);return e}catch(e){console.log("Retrieval Error:",e)}}function i(e){let t=JSON.parse(e),n=t.date,o=t.temp,r=t.content;console.log("newArray is a "+typeof t),document.getElementById("date").innerHTML=`The date is ${n}.`,document.getElementById("temp").innerHTML=`The current temperature is ${o}.`,document.getElementById("content").innerHTML=`You're feeling ${r}.`}function u(){let e=document.getElementById("traveldate").value,t=new Date(e).getTime()-(new Date).getTime();if(!0===function(){let e=document.getElementById("traveldate").value;return!0===/^(20)\d\d([-])(0[1-9]|1[012])\2(0[1-9]|[12][0-9]|3[01])$/.test(e)||((e="")?(alert("Future date must be filled out"),!1):(alert("Please reenter your future date in the format YYYY-MM-DD"),!1))}()){if(console.log(e),!(t<0)){let n=[e,Math.floor(t/864e5)];return r("http://localhost:3000/traveldate",n),console.log(n),n}clearInterval(myfunc),document.getElementById("date").innerHTML="0",document.getElementById("end").innerHTML="Pack Your Bags!!"}else{console.log("User did not enter a valid date in form YYYY-MM-DD"),r("http://localhost:3000/traveldate","")}}function s(){c("http://localhost:3000/all").then(e=>{let t=e.latitude,n=e.longitude;console.log(`Latitude ${t} longitude ${n}`);return`https://api.weatherbit.io/v2.0/forecast/daily?lat=${t}&lon=${n}&key=ed272d7050954d248e5c7d3f9dd80768`}).then(e=>function(e){fetch(e).then(e=>e.json()).then(e=>{for(let[t,n]of Object.entries(e))console.log(`${t}: ${n}`);return console.log(""+typeof e),e}).catch(e=>{console.log(e)})}(e)).then(e=>{r("http://localhost:3000/weatherpost",e)}).catch(e=>{console.log(e)})}function d(e){l().then(()=>u()).then(()=>s()).catch(e=>{console.log(e)})}n.r(t),n.d(t,"getCityData",(function(){return l})),n.d(t,"postWeatherData",(function(){return a})),n.d(t,"getNewData",(function(){return c})),n.d(t,"uiUpdate",(function(){return i})),n.d(t,"performAction",(function(){return d}));n(0);document.getElementById("generate").onclick=d}]);